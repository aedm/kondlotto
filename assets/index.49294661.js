import{a as t,o as e,c as o,b as n,t as s,d as a,r,e as c}from"./vendor.8cbd1848.js";!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(o){const n=new URL(t,location),s=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((o,a)=>{const r=new URL(t,n);if(self[e].moduleMap[r])return o(self[e].moduleMap[r]);const c=new Blob([`import * as m from '${r}';`,`${e}.moduleMap['${r}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){a(new Error(`Failed to import: ${t}`)),s(i)},onload(){o(self[e].moduleMap[r]),s(i)}});document.head.appendChild(i)})),self[e].moduleMap={}}}("/kondlotto/assets/");var i={name:"KondLotto",data:()=>({btcToUsd:null,usdToHuf:null,lastBitcoinFetch:null,lastUsdFetch:null,usdAsOf:null}),computed:{ticketCount(){if(null===this.btcToUsd||null===this.usdToHuf)return null;const t=(.00202943*(this.btcToUsd*this.usdToHuf)-3e4)/300;return Math.round(1e3*t)/1e3}},beforeMount(){this.getBitcoinPrice(),this.getUsdHufPrice()},methods:{async getBitcoinPrice(){var t,e;const o=await fetch("https://api.coindesk.com/v1/bpi/currentprice.json"),n=await o.json();this.btcToUsd=null==(e=null==(t=null==n?void 0:n.bpi)?void 0:t.USD)?void 0:e.rate_float,this.lastBitcoinFetch=(new Date).toISOString(),setTimeout((()=>this.getBitcoinPrice()),5e3)},async getUsdHufPrice(){const e=await t.request({method:"GET",url:"https://alpha-vantage.p.rapidapi.com/query",params:{to_currency:"HUF",function:"CURRENCY_EXCHANGE_RATE",from_currency:"USD"},headers:{"x-rapidapi-key":"a50a0d0c08mshe623dee645b3d07p19c46ajsn7e085d5b03a3","x-rapidapi-host":"alpha-vantage.p.rapidapi.com"}});console.log(JSON.stringify(e.data));const o=e.data["Realtime Currency Exchange Rate"];this.usdToHuf=o["5. Exchange Rate"],this.usdAsOf=o["6. Last Refreshed"]}}};const l={key:0,class:"container mx-auto p-8"},d={class:"bg-white rounded-xl shadow-md overflow-hidden md:max-w-xl mx-auto"},u={class:"p-8 text-lg font-sans text-center"},p=n("p",null,"Kond már",-1),m={class:"text-6xl p-3 font-bold"},h=n("p",null,"lottószelvényt nyert Bitcoinnal.",-1),f={key:1,class:"text-center italic text-gray-500"};i.render=function(t,a,r,c,i,b){return i.btcToUsd>0?(e(),o("div",l,[n("div",d,[n("div",u,[p,n("p",m,[n("span",{class:b.ticketCount<0?"text-red-400":"text-green-500"},s(b.ticketCount),3)]),h])])])):(e(),o("p",f,"loading..."))};var b=a({name:"App",components:{KondLotto:i}});b.render=function(t,n,s,a,c,i){const l=r("KondLotto");return e(),o(l)};c(b).mount("#app");
